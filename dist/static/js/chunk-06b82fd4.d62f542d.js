(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06b82fd4"],{"1c70":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{staticClass:"box-card"},[l("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:e.stepStatus,"finish-status":"success",simple:""}},[l("el-step",{attrs:{title:"1.编辑基本信息"},nativeOn:{click:function(t){return e.step_click(1)}}}),l("el-step",{attrs:{title:"2.编辑商品详情"},nativeOn:{click:function(t){return e.step_click(2)}}})],1),l("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{model:e.ruleForm,rules:e.rules}},[l("section",{directives:[{name:"show",rawName:"v-show",value:1===e.stepStatus,expression:"stepStatus === 1"}]},[l("p",[l("span",[e._v("基本信息")])]),l("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.ruleForm.suppliesName,callback:function(t){e.$set(e.ruleForm,"suppliesName",t)},expression:"ruleForm.suppliesName"}})],1),l("el-form-item",{attrs:{label:"简介"}},[l("el-input",{attrs:{placeholder:"请输入简介",type:"textarea"},model:{value:e.ruleForm.intro,callback:function(t){e.$set(e.ruleForm,"intro",t)},expression:"ruleForm.intro"}})],1),l("el-form-item",{attrs:{label:"商品缩略图"}},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,limit:1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?l("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),l("el-form-item",{attrs:{label:"商品品牌"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.brand,callback:function(t){e.$set(e.ruleForm,"brand",t)},expression:"ruleForm.brand"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"商品类目"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.brand,callback:function(t){e.$set(e.ruleForm,"brand",t)},expression:"ruleForm.brand"}},e._l(e.optionsBrand,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"商品展示图"}},[l("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture"}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),l("p",[l("span",[e._v("价格库存")])]),l("el-form-item",{attrs:{label:"售价"}},[l("el-input",{attrs:{placeholder:"请输入售价"},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1),l("el-form-item",{attrs:{label:"库存"}},[l("el-input",{attrs:{placeholder:"请输入库存"},model:{value:e.ruleForm.inventory,callback:function(t){e.$set(e.ruleForm,"inventory",t)},expression:"ruleForm.inventory"}})],1),l("el-form-item",{attrs:{label:"规格"}},[l("el-input",{attrs:{placeholder:"请输入规格"},model:{value:e.ruleForm.specification,callback:function(t){e.$set(e.ruleForm,"specification",t)},expression:"ruleForm.specification"}})],1)],1),l("section",{directives:[{name:"show",rawName:"v-show",value:2===e.stepStatus,expression:"stepStatus === 2"}]},[l("div",[e._v("富文本编辑器")])]),l("el-form-item",[l("el-button",{domProps:{textContent:e._s(1===e.stepStatus?"下一步":"上一步")},on:{click:e.stepTo}}),l("el-button",{directives:[{name:"show",rawName:"v-show",value:2===e.stepStatus,expression:"stepStatus === 2"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)},s=[],r=l("bc3a"),o=l.n(r),i={components:{},computed:{ruleForm:function(){return this.$store.state.goodsListRow}},data:function(){return{fileList:[],rules:{goodsName:[{required:!0,message:"请输入商品名称",trigger:"blur"}]},imageUrl:"",options:[{value:"选项1",label:"羽素"},{value:"选项2",label:"纽崔莱恩"}],optionsBrand:[{value:"一级分类",label:"一级分类"},{value:"二级分类",label:"二级分类"}],value:"",isClearable:!0,isAccordion:!0,valueId:20,props:{value:"id",label:"name",children:"children"},list:[{id:1,parentId:0,name:"一级分类",rank:1},{id:2,parentId:0,name:"二级分类",rank:1}],stepStatus:1}},methods:{submitForm:function(){var e=this;o.a.post("http://tadmin.yuxinhz.cn/api/product/add",this.ruleForm).then((function(t){console.log(t),e.$router.push({path:"/goodsList"})})).catch((function(e){console.log(e)}))},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&l},getValue:function(e){this.valueId=e,console.log(this.valueId)},uploadFile:function(e){this.fileData.append("files",e.file)},submitUpload:function(){this.loading=!0,this.fileData=new FormData,this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},step_click:function(e){this.stepStatus=e},stepTo:function(){1===this.stepStatus?this.stepStatus++:this.stepStatus--},release:function(e){console.log(e)}}},n=i,u=(l("61d7"),l("2877")),c=Object(u["a"])(n,a,s,!1,null,null,null);t["default"]=c.exports},"61d7":function(e,t,l){"use strict";var a=l("c2c8"),s=l.n(a);s.a},c2c8:function(e,t,l){}}]);